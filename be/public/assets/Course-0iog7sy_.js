import{a3 as T,K as B,r as c,b8 as j,j as e,d as o,b9 as d,P as k,z as u,a7 as v,F as n,T as N,ba as E,C as p,H as F,D,bb as $,a2 as H,a0 as O,bc as U}from"./index-cy1M6gwN.js";import{S as A}from"./index-ngXLQc7D.js";import{u as G,a as Q,C as M,b as _}from"./CourseProgress-_u1eIuup.js";import{S as q,a as K,b as R,c as V}from"./Stepper-LNl2zzlA.js";import"./LinearProgress-WJI90r2m.js";function ee(){var C;const m=T(r=>r.breakpoints.down("lg")),h=B(),I=c.useRef(null),[z,f]=c.useState(!m),L=j(),{courseId:s}=L,{data:t,isLoading:P}=G({courseId:s},{skip:!s}),[S]=Q();c.useEffect(()=>{var r;t&&((r=t==null?void 0:t.progress)==null?void 0:r.currentStep)===0&&S({courseId:s,data:{progress:{currentStep:1}}})},[t]),c.useEffect(()=>{f(!m)},[m]);const i=((C=t==null?void 0:t.progress)==null?void 0:C.currentStep)||0;function g(r){t&&(r>t.totalSteps||r<0)||S({courseId:s,data:{progress:{currentStep:r}}})}function x(){g(i+1)}function w(){g(i-1)}function y(r){g(r+1)}const l=i!==0?i:1;return P?e(O,{}):t?e(H,{content:o("div",{className:"w-full",children:[e(d,{lgDown:!0,children:e(M,{className:"sticky top-0 z-10",course:t})}),e(d,{lgUp:!0,children:o(k,{className:"flex sticky top-0 z-10 items-center w-full px-16 py-8 border-b-1 shadow-0",square:!0,children:[e(u,{to:"/apps/academy/courses",component:v,children:e(n,{children:h.direction==="ltr"?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"})}),e(N,{className:"text-13 font-medium tracking-tight mx-10",children:t.title})]})}),e(A,{index:l-1,enableMouseEvents:!0,onChangeIndex:y,children:t.steps.map((r,b)=>e("div",{className:"flex justify-center p-16 pb-64 sm:p-24 sm:pb-64 md:p-48 md:pb-64",children:e(k,{className:"w-full max-w-lg mx-auto sm:my-8 lg:mt-16 p-24 sm:p-40 sm:py-48 rounded-16 shadow overflow-hidden",children:e("div",{className:"prose prose-sm dark:prose-invert w-full max-w-full",dangerouslySetInnerHTML:{__html:r.content},dir:h.direction})})},b))}),e(d,{lgDown:!0,children:e("div",{className:"flex justify-center w-full sticky bottom-0 p-16 pb-32 z-10",children:o(E,{variant:"contained","aria-label":"",className:"rounded-full",color:"secondary",children:[e(p,{className:"min-h-56 rounded-full",size:"large",startIcon:e(n,{children:"heroicons-outline:arrow-narrow-left"}),onClick:w,children:"Prev"}),e(p,{className:"pointer-events-none min-h-56",size:"large",children:`${l}/${t.totalSteps}`}),e(p,{className:"min-h-56 rounded-full",size:"large",endIcon:e(n,{children:"heroicons-outline:arrow-narrow-right"}),onClick:x,children:"Next"})]})})}),e(d,{lgUp:!0,children:o(F,{sx:{backgroundColor:"background.paper"},className:"flex sticky bottom-0 z-10 items-center w-full p-16 border-t-1",children:[e(u,{onClick:()=>f(!0),"aria-label":"open left sidebar",size:"large",children:e(n,{children:"heroicons-outline:view-list"})}),e(N,{className:"mx-8",children:`${l}/${t.totalSteps}`}),e(M,{className:"flex flex-1 mx-8",course:t}),e(u,{onClick:w,children:e(n,{children:"heroicons-outline:arrow-narrow-left"})}),e(u,{onClick:x,children:e(n,{children:"heroicons-outline:arrow-narrow-right"})})]})})]}),leftSidebarOpen:z,leftSidebarOnClose:()=>{f(!1)},leftSidebarWidth:300,leftSidebarContent:o($,{children:[o("div",{className:"p-32",children:[e(p,{to:"/apps/academy/courses",component:v,className:"mb-24",color:"secondary",variant:"text",startIcon:e(n,{size:20,children:h.direction==="ltr"?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),children:"Back to courses"}),e(_,{course:t})]}),e(D,{}),e(q,{classes:{root:"p-32"},activeStep:l-1,orientation:"vertical",children:t.steps.map((r,b)=>o(K,{sx:{"& .MuiStepLabel-root, & .MuiStepContent-root":{cursor:"pointer!important"},"& .MuiStepContent-root":{color:"text.secondary",fontSize:13}},onClick:()=>y(r.order),expanded:!0,children:[e(R,{className:"font-medium",sx:{"& .MuiSvgIcon-root":{color:"background.default","& .MuiStepIcon-text":{fill:a=>a.palette.text.secondary},"&.Mui-completed":{color:"secondary.main","& .MuiStepIcon-text ":{fill:a=>a.palette.secondary.contrastText}},"&.Mui-active":{color:"secondary.main","& .MuiStepIcon-text ":{fill:a=>a.palette.secondary.contrastText}}}},children:r.title}),e(V,{children:r.subtitle})]},b))})]}),scroll:"content",ref:I}):e(U,{})}export{ee as default};
