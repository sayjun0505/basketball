import{j as e,a5 as T,dl as b,_ as I,d as a,T as d,J as x,C as f,bH as m,F as c,dm as v,g as y,x as L,i as D,z as S,h as k,f as P,D as w,bb as u,dn as C,a0 as j,e as z,s as F,a2 as R,b8 as A,r as g,a3 as H}from"./index-cy1M6gwN.js";import{P as N,D as M,C as O}from"./react-beautiful-dnd.esm-Kfuz-aS-.js";import"./memoize-one.esm-hqe5SRxC.js";function B(){return e("div",{className:"flex flex-col flex-auto",children:e(T,{})})}function E(){const{data:s}=b(),t=I.filter(s,n=>n.type==="task"&&!n.completed).length;return a("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 p-24 sm:p-32 w-full border-b-1 justify-between",children:[a("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-12",children:[e(x.span,{initial:{x:-20},animate:{x:0,transition:{delay:.2}},children:e(d,{className:"text-24 md:text-32 font-extrabold tracking-tight leading-none",children:"Tasks"})}),e(x.span,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},children:e(d,{className:"text-14 font-medium ml-2",color:"text.secondary",children:`${t} remaining tasks`})})]}),a("div",{className:"flex items-center -mx-8",children:[a(f,{className:"mx-8 whitespace-nowrap",component:m,to:"new/section",children:[e(c,{size:20,children:"heroicons-outline:plus"}),e("span",{className:"mx-8",children:"Add Section"})]}),a(f,{className:"mx-8 whitespace-nowrap",variant:"contained",color:"secondary",component:m,to:"new/task",children:[e(c,{size:20,children:"heroicons-outline:plus"}),e("span",{className:"mx-8",children:"Add Task"})]})]})]})}function $(s){const{data:t,index:n}=s,[o]=v();return e(N,{draggableId:t.id,index:n,children:(r,i)=>a(u,{children:[a(y,{className:L(i.isDragging?"shadow-lg":"shadow","px-40 py-12 group"),sx:{bgcolor:"background.paper"},button:!0,component:m,to:`/apps/tasks/${t.id}`,ref:r.innerRef,...r.draggableProps,children:[e("div",{className:"md:hidden absolute flex items-center justify-center inset-y-0 left-0 w-32 cursor-move md:group-hover:flex",...r.dragHandleProps,children:e(c,{sx:{color:"text.disabled"},size:20,children:"heroicons-solid:menu"})}),e(D,{className:"min-w-40 -ml-10 mr-8",children:e(S,{sx:{color:t.completed?"secondary.main":"text.disabled"},onClick:l=>{l.preventDefault(),l.stopPropagation(),o({...t,completed:!t.completed})},children:e(c,{children:"heroicons-outline:check-circle"})})}),e(k,{classes:{root:"m-0",primary:"truncate"},primary:t.title}),a("div",{className:"flex items-center",children:[a("div",{children:[t.priority===0&&e(c,{className:"text-green icon-size-16 mx-12",children:"heroicons-outline:arrow-narrow-down"}),t.priority===2&&e(c,{className:"text-red icon-size-16 mx-12",children:"heroicons-outline:arrow-narrow-up"})]}),t.dueDate&&e(d,{className:"text-12 whitespace-nowrap",color:"text.secondary",children:P(new Date(t.dueDate),"LLL dd")})]})]}),e(w,{})]})})}function Q(s){const{data:t,index:n}=s;return e(N,{draggableId:t.id,index:n,children:o=>a(u,{children:[a(y,{className:"px-40 py-12 group",sx:{bgcolor:"background.default"},button:!0,component:m,to:`/apps/tasks/${t.id}`,ref:o.innerRef,...o.draggableProps,children:[e("div",{className:"md:hidden absolute flex items-center justify-center inset-y-0 left-0 w-32 cursor-move md:group-hover:flex",...o.dragHandleProps,children:e(c,{sx:{color:"text.disabled"},size:20,children:"heroicons-solid:menu"})}),e(k,{classes:{root:"m-0",primary:"font-semibold text-16 truncate"},primary:t.title})]}),e(w,{})]})})}function G(){const{data:s,isLoading:t}=b(),[n]=C();if(t)return e(j,{});if(s.length===0)return e("div",{className:"flex flex-1 items-center justify-center h-full",children:e(d,{color:"text.secondary",variant:"h5",children:"There are no tasks!"})});function o(r){const{source:i,destination:l}=r;if(!l)return;const{index:p}=l,{index:h}=i;p!==h&&n({startIndex:h,endIndex:p})}return e(z,{className:"w-full m-0 p-0",children:e(M,{onDragEnd:o,children:e(O,{droppableId:"list",type:"list",direction:"vertical",children:r=>a(u,{children:[e("div",{ref:r.innerRef,children:s.map((i,l)=>i.type==="task"?e($,{data:i,index:l},i.id):i.type==="section"?e(Q,{index:l,data:i},i.id):null)}),r.placeholder]})})})})}const J=F(R)(({theme:s})=>({"& .FusePageSimple-header":{backgroundColor:s.palette.background.paper}}));function q(){const s=A(),[t,n]=g.useState(!1),o=H(r=>r.breakpoints.down("lg"));return g.useEffect(()=>{n(!!s.id)},[s]),e(J,{header:e(E,{}),content:e(G,{}),rightSidebarContent:e(B,{}),rightSidebarOpen:t,rightSidebarOnClose:()=>n(!1),rightSidebarWidth:640,scroll:o?"normal":"content"})}export{q as default};
